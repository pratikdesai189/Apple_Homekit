/*
 * wifi_info.h
 *
 *  Created on: 2020-05-15
 *      Author: Mixiaoxiao (Wang Bin)
	Modifier: Pratik Desai
	Contribution:Captive Portal OTA SSID and Password
 */



#include <WiFiManager.h>
#ifndef WIFI_INFO_H_
#define WIFI_INFO_H_

#if defined(ESP8266)
#include <ESP8266WiFi.h>
#elif defined(ESP32)
#include <WiFi.h>
#endif



void wifi_connect() 
{
  WiFi.persistent(false);
	WiFi.mode(WIFI_STA);
  WiFi.setAutoReconnect(true);
  WiFiManager wm;
  bool res;
  res = wm.autoConnect("AppleHomekit","password");
    
	
	Serial.println("WiFi connecting...");
	while (!WiFi.isConnected()) 
	{
		delay(100);
		Serial.print(".");
	}
	Serial.print("\n");
	Serial.printf("WiFi connected, IP: %s\n", WiFi.localIP().toString().c_str());
}

#endif /* WIFI_INFO_H_ */